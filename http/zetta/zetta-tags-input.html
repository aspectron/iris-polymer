<dom-module id="zetta-tags-input">
	<style>
		:host {display: block;}
		input::-webkit-input-placeholder {color: var(--paper-input-container-color, --secondary-text-color);}
		input:-moz-placeholder {color: var(--paper-input-container-color, --secondary-text-color);}
		input::-moz-placeholder {color: var(--paper-input-container-color, --secondary-text-color);}
		input:-ms-input-placeholder {color: var(--paper-input-container-color, --secondary-text-color);}
		.tag{padding: 5px; border:1px #CCC solid; background-color: #DDD; display: inline-block;}
		.tag iron-icon{margin-left: 5px;}
		#dropdownContent{}
		input#input{display: none}
		paper-menu-button{display: block; padding: 4px 0px;}
		.tag-container{min-height: 36px}
	</style>
	<template>
		<paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">
			<content select="[prefix]"></content>
			<label hidden$="[[!label]]">[[label]]</label>
			<div>
				<div class="tag-container" on-tap="onContainerTap">
					<template is="dom-repeat" items="[[value]]">
						<span class="tag">[[getItemText(item)]]<iron-icon icon="[[removeIcon]]"></iron-icon></span>
					</template>
				</div>
				<paper-menu-button vertical-align="[[verticalAlign]]" opened="{{dropdownOpened}}">
					<span class="dropdown-trigger"></span>
					<paper-menu id="dropdownContent" class="dropdown-content">
						<template is="dom-repeat" items="[[value]]">
							<paper-item>[[getItemText(item)]]</paper-item>
						</template>
					</paper-menu>
				</paper-menu-button>
				<input is="iron-input" id="input"
					aria-labelledby$="[[_ariaLabelledBy]]"
					aria-describedby$="[[_ariaDescribedBy]]"
					disabled$="[[disabled]]"
					bind-value="{{value}}"
					invalid="{{invalid}}"
					prevent-invalid-input="[[preventInvalidInput]]"
					allowed-pattern="[[allowedPattern]]"
					validator="[[validator]]"
					type$="[[type]]"
					pattern$="[[pattern]]"
					maxlength$="[[maxlength]]"
					required$="[[required]]"
					autocomplete$="[[autocomplete]]"
					autofocus$="[[autofocus]]"
					inputmode$="[[inputmode]]"
					minlength$="[[minlength]]"
					name$="[[name]]"
					placeholder$="[[placeholder]]"
					readonly$="[[readonly]]"
					list$="[[list]]"
					size$="[[size]]"
					autocapitalize$="[[autocapitalize]]"
					autocorrect$="[[autocorrect]]">
			</div>
			<content select="[suffix]"></content>
			<template is="dom-if" if="[[errorMessage]]">
				<paper-input-error>[[errorMessage]]</paper-input-error>
			</template>
			<template is="dom-if" if="[[charCounter]]">
				<paper-input-char-counter></paper-input-char-counter>
			</template>
		</paper-input-container>
	</template>
	<script>
	Polymer({
		is:'zetta-tags-input',
		behaviors: [
			//Polymer.IronFormElementBehavior,
			//Polymer.PaperInputBehavior,
			//Polymer.IronControlState
		],
		properties:{
			removeIcon:{
				type: String,
				value:'close'
			},
			verticalAlign:{
				type: String,
				value: 'top'
			},
			dropdownOpened:{
				type:Boolean,
				value: true
			}
		},
		ready: function (argument) {
			var self = this;

		},
		onContainerTap: function(e){
			console.dir(e.currentTarget)
		},
		getItemText: function(item){
			return item.text || item.value || item.name || item;
		}
	})
	</script>
</dom-module>